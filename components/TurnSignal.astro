---
import signalURL from '@vtbag/turn-signal?url&no-inline';
import debugURL from '@vtbag/turn-signal/debug?url&no-inline';
import forcedTraversalURL from '@vtbag/turn-signal/forced-traversal?url&no-inline';
export interface Props {
	selector?: string;
	forcedTraversal?: boolean;
	directionTypes?: string;
	directionAttribute?: string;
	debug?: boolean;
}

const {
	selector,
	forcedTraversal,
	directionTypes = '',
	directionAttribute = 'data-astro-transition, back, forward, forward',
	debug = false,
} = Astro.props;
---

{forcedTraversal && <script is:inline src={forcedTraversalURL} />}{
	(
		<script
			is:inline
			{...(selector ? { 'data-selector': selector } : {})}
			{...(directionTypes ? { 'data-direction-types': directionTypes } : {})}
			{...(directionAttribute ? { 'data-direction-attribute': directionAttribute } : {})}
			src={debug ? debugURL : signalURL}
		/>
	)
}
